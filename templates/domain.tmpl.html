<html>
  {{template "header.tmpl.html"}}
<body>


{{ template "settings.tmpl.html" }}

<div id="main">
<h1>Editing {{ .domain.Name }}</h1>


<h2>Tasks</h2>
<div>
{{if or (not .daily) (not .weekly) }} 
This Deck doesn't have any chores
{{else}}

<form method="post" action="/task/update">
	<input type="hidden" name="domain_id" value="{{ .domain.ID }}">

	<fieldset>
		<legend>Daily</legend>
		<ol>
		{{range .daily }}
			<li>{{ .Name }} x<input type="number" name="{{ .ID }}" value="{{ .Count }}" min="0" max="999"></li>
		{{end}}
		</ol>
	</fieldset>

	<fieldset>
		<legend>Weekly</legend>
			<ol>
			{{range .weekly }}
				<li>{{ .Name }} x<input type="number" name="{{ .ID }}" value="{{ .Count }}" min="0" max="999"></li>
			{{end}}
			</ol>
	</fieldset>

		<input type="submit" value="Save">
{{end}}
</form>
</div>

<hr>

<div>
	<form method="post" action="/task/new">
	<fieldset>
		<legend>New Task</legend>
		<input type="hidden" name="domain_id" value="{{ .domain.ID }}">
		Name: <input type="text" name="name" size="20" maxlengt="200">
		x<input type="number" name="count" value="1" required="true">
		Weekly: <input type="checkbox" name="weekly" value="true">
		<input type="submit" value="Add">
	</fieldset>
	</form>
</div>

</div>

</body>
</html>
